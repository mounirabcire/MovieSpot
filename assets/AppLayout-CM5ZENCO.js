import{r as h,a as $,p as D,v as Y,i as V,d as G,f as k,c as X,b as U,u as J,w as K,e as Q,m as N,j as i,g as b,C as R,N as M,L as H,A as F,h as Z,B as T,k as ee,l as se,n as te,o as ne,q as ae,O as ie}from"./index-fr3W1kat.js";function re(e,s,a){h.useInsertionEffect(()=>e.on(s,a),[e,s,a])}const E=new WeakMap;let f;function oe(e,s){if(s){const{inlineSize:a,blockSize:t}=s[0];return{width:a,height:t}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function le({target:e,contentRect:s,borderBoxSize:a}){var t;(t=E.get(e))===null||t===void 0||t.forEach(n=>{n({target:e,contentSize:s,get size(){return oe(e,a)}})})}function ce(e){e.forEach(le)}function _e(){typeof ResizeObserver>"u"||(f=new ResizeObserver(ce))}function ue(e,s){f||_e();const a=$(e);return a.forEach(t=>{let n=E.get(t);n||(n=new Set,E.set(t,n)),n.add(s),f==null||f.observe(t)}),()=>{a.forEach(t=>{const n=E.get(t);n==null||n.delete(s),n!=null&&n.size||f==null||f.unobserve(t)})}}const S=new Set;let y;function de(){y=()=>{const e={width:window.innerWidth,height:window.innerHeight},s={target:window,size:e,contentSize:e};S.forEach(a=>a(s))},window.addEventListener("resize",y)}function he(e){return S.add(e),y||de(),()=>{S.delete(e),!S.size&&y&&(y=void 0)}}function me(e,s){return typeof e=="function"?he(e):ue(e,s)}const fe=50,O=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ve=()=>({time:0,x:O(),y:O()}),pe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function C(e,s,a,t){const n=a[s],{length:r,position:l}=pe[s],_=n.current,o=a.time;n.current=e[`scroll${l}`],n.scrollLength=e[`scroll${r}`]-e[`client${r}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=D(0,n.scrollLength,n.current);const u=t-o;n.velocity=u>fe?0:Y(n.current-_,u)}function ge(e,s,a){C(e,"x",s,a),C(e,"y",s,a),s.time=a}function xe(e,s){const a={x:0,y:0};let t=e;for(;t&&t!==s;)if(t instanceof HTMLElement)a.x+=t.offsetLeft,a.y+=t.offsetTop,t=t.offsetParent;else if(t.tagName==="svg"){const n=t.getBoundingClientRect();t=t.parentElement;const r=t.getBoundingClientRect();a.x+=n.left-r.left,a.y+=n.top-r.top}else if(t instanceof SVGGraphicsElement){const{x:n,y:r}=t.getBBox();a.x+=n,a.y+=r;let l=null,_=t.parentNode;for(;!l;)_.tagName==="svg"&&(l=_),_=t.parentNode;t=l}else break;return a}const je={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},z={start:0,center:.5,end:1};function A(e,s,a=0){let t=0;if(e in z&&(e=z[e]),typeof e=="string"){const n=parseFloat(e);e.endsWith("px")?t=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?t=n/100*document.documentElement.clientWidth:e.endsWith("vh")?t=n/100*document.documentElement.clientHeight:e=n}return typeof e=="number"&&(t=s*e),a+t}const ye=[0,0];function we(e,s,a,t){let n=Array.isArray(e)?e:ye,r=0,l=0;return typeof e=="number"?n=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,z[e]?e:"0"]),r=A(n[0],a,t),l=A(n[1],s),r-l}const ke={x:0,y:0};function Ne(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function be(e,s,a){const{offset:t=je.All}=a,{target:n=e,axis:r="y"}=a,l=r==="y"?"height":"width",_=n!==e?xe(n,e):ke,o=n===e?{width:e.scrollWidth,height:e.scrollHeight}:Ne(n),u={width:e.clientWidth,height:e.clientHeight};s[r].offset.length=0;let m=!s[r].interpolate;const p=t.length;for(let d=0;d<p;d++){const w=we(t[d],u[l],o[l],_[r]);!m&&w!==s[r].interpolatorOffsets[d]&&(m=!0),s[r].offset[d]=w}m&&(s[r].interpolate=V(s[r].offset,G(t)),s[r].interpolatorOffsets=[...s[r].offset]),s[r].progress=s[r].interpolate(s[r].current)}function Ee(e,s=e,a){if(a.x.targetOffset=0,a.y.targetOffset=0,s!==e){let t=s;for(;t&&t!==e;)a.x.targetOffset+=t.offsetLeft,a.y.targetOffset+=t.offsetTop,t=t.offsetParent}a.x.targetLength=s===e?s.scrollWidth:s.clientWidth,a.y.targetLength=s===e?s.scrollHeight:s.clientHeight,a.x.containerLength=e.clientWidth,a.y.containerLength=e.clientHeight}function Se(e,s,a,t={}){return{measure:()=>Ee(e,t.target,a),update:n=>{ge(e,a,n),(t.offset||t.target)&&be(e,a,t)},notify:()=>s(a)}}const x=new WeakMap,B=new WeakMap,L=new WeakMap,W=e=>e===document.documentElement?window:e;function Le(e,{container:s=document.documentElement,...a}={}){let t=L.get(s);t||(t=new Set,L.set(s,t));const n=ve(),r=Se(s,e,n,a);if(t.add(r),!x.has(s)){const _=()=>{for(const d of t)d.measure()},o=()=>{for(const d of t)d.update(U.timestamp)},u=()=>{for(const d of t)d.notify()},m=()=>{k.read(_,!1,!0),k.read(o,!1,!0),k.update(u,!1,!0)};x.set(s,m);const p=W(s);window.addEventListener("resize",m,{passive:!0}),s!==document.documentElement&&B.set(s,me(s,m)),p.addEventListener("scroll",m,{passive:!0})}const l=x.get(s);return k.read(l,!1,!0),()=>{var _;X(l);const o=L.get(s);if(!o||(o.delete(r),o.size))return;const u=x.get(s);x.delete(s),u&&(W(s).removeEventListener("scroll",u),(_=B.get(s))===null||_===void 0||_(),window.removeEventListener("resize",u))}}function q(e,s){K(!!(!s||s.current))}const ze=()=>({scrollX:N(0),scrollY:N(0),scrollXProgress:N(0),scrollYProgress:N(0)});function Ie({container:e,target:s,layoutEffect:a=!0,...t}={}){const n=J(ze);return(a?Q:h.useEffect)(()=>(q("target",s),q("container",e),Le(({x:l,y:_})=>{n.scrollX.set(l.current),n.scrollXProgress.set(l.progress),n.scrollY.set(_.current),n.scrollYProgress.set(_.progress)},{...t,container:(e==null?void 0:e.current)||void 0,target:(s==null?void 0:s.current)||void 0})),[e,s,JSON.stringify(t.offset)]),n}const Me="_nav_1ekeq_1",He="_nav__wrapper_1ekeq_15",Oe="_nav__linkList_1ekeq_21",Ce="_nav__paramsList_1ekeq_21",Ae="_nav__linkItem_1ekeq_35",Be="_nav__paramsItem_1ekeq_35",We="_nav__link_1ekeq_21",qe="_nav__menu_1ekeq_90",Pe="_nav__menu__listsContainer_1ekeq_100",Re="_nav__menu__closeMenu_1ekeq_116",Fe="_nav__menu__heading_1ekeq_123",Te="_nav__menu__linkItem_1ekeq_130",$e="_nav__menu__paramsItem_1ekeq_130",De="_nav__menu__link_1ekeq_130",c={nav:Me,nav__wrapper:He,nav__linkList:Oe,nav__paramsList:Ce,nav__linkItem:Ae,nav__paramsItem:Be,nav__link:We,nav__menu:qe,nav__menu__listsContainer:Pe,nav__menu__closeMenu:Re,nav__menu__heading:Fe,nav__menu__linkItem:Te,nav__menu__paramsItem:$e,nav__menu__link:De},P=[{name:"Home",path:"/"},{name:"Movies",path:"/movies"},{name:"Tv Shows",path:"/tvshows"}],Ye={visible:{y:"0"},hidden:{y:"-100%"}},Ve={initial:{x:"100%",opacity:0},animate:{x:"0",opacity:1,transition:{duration:.8,ease:[.34,1.56,.64,1]}},exit:{x:"100%",opacity:0,transition:{duration:.8,ease:[.5,1,.89,1]}}};function Ge({handleSearchBar:e}){const[s,a]=h.useState(!1),[t,n]=h.useState(!1),{scrollY:r}=Ie();re(r,"change",o=>{const u=r.getPrevious();o>u&&o>150?(_(!0),a(!1)):_(!1)});function l(){a(o=>!o)}function _(o){n(o)}return i.jsx(b.nav,{className:c.nav,variants:Ye,animate:t?"hidden":"visible",transition:{duration:.5,ease:"easeInOut"},children:i.jsx(R,{children:i.jsxs("div",{className:c.nav__wrapper,children:[i.jsx("h1",{className:c.nav__logo,children:"MovieSpot"}),i.jsx("ul",{className:c.nav__linkList,children:P.map((o,u)=>i.jsx("li",{className:c.nav__linkItem,children:i.jsx(M,{className:c.nav__link,to:o.path,children:o.name})},u))}),i.jsxs("ul",{className:c.nav__paramsList,children:[i.jsx("li",{className:c.nav__paramsItem,onClick:()=>e(!0),children:i.jsx("i",{className:"ri-search-line"})}),i.jsx("li",{className:c.nav__paramsItem,children:i.jsx(H,{to:"/favorite",className:c.nav__menu__link,children:i.jsx("i",{className:"ri-heart-line"})})})]}),i.jsx("div",{className:c.nav__menu,onClick:l,children:i.jsx("i",{className:"ri-menu-line"})}),i.jsx(F,{mode:"wait",children:s&&i.jsx(i.Fragment,{children:i.jsxs(b.div,{className:c.nav__menu__listsContainer,...Z(Ve),children:[i.jsx("div",{className:c.nav__menu__closeMenu,onClick:l,children:i.jsx("i",{className:"ri-close-line"})}),i.jsx("h3",{className:c.nav__menu__heading,children:"Menu"}),i.jsx(b.ul,{className:c.nav__menu__linkList,animate:{transition:{staggerChildren:2}},children:P.map((o,u)=>i.jsx("li",{className:c.nav__menu__linkItem,onClick:l,children:i.jsx(M,{className:c.nav__menu__link,to:o.path,children:o.name})},u))}),i.jsx("h3",{className:c.nav__menu__heading,children:"Options"}),i.jsxs("ul",{className:c.nav__menu__paramsList,children:[i.jsxs("li",{className:c.nav__menu__paramsItem,onClick:()=>{e(!0),l()},children:[i.jsx("span",{children:i.jsx("i",{className:"ri-search-line"})}),"Search"]}),i.jsx("li",{className:c.nav__menu__paramsItem,onClick:l,children:i.jsxs(H,{to:"/favorite",className:c.nav__menu__link,children:[i.jsx("span",{children:i.jsx("i",{className:"ri-heart-line"})}),"Favorite"]})})]})]})})})]})})})}const Xe="_footer_2zjpu_1",Ue="_footer__heading_2zjpu_16",Je="_footer__subHeading_2zjpu_24",Ke="_footer__form_2zjpu_30",Qe="_footer__input_2zjpu_40",j={footer:Xe,footer__heading:Ue,footer__subHeading:Je,footer__form:Ke,footer__input:Qe};function Ze(){return i.jsx("footer",{className:j.footer,children:i.jsxs(R,{children:[i.jsx("h2",{className:j.footer__heading,children:"Subscibe to Our Newsletter"}),i.jsx("h5",{className:j.footer__subHeading,children:"Stay tuned for exclusive movies Deals and exciting offers!"}),i.jsxs("div",{className:j.footer__form,children:[i.jsx("input",{className:j.footer__input,type:"text",placeholder:"Your email address..."}),i.jsx(T,{style:{position:"absolute",top:0,right:0,borderRadius:"0 5px 5px 0",border:"1px solid"},children:"Sign up"})]})]})})}const es="_searchbar__bg_4mzlt_1",ss="_searchbar__container_4mzlt_16",ts="_searchbar__input_4mzlt_21",ns="_searchbar__close_4mzlt_36",as="_searchedMovies__container_4mzlt_52",is="_searchedMovies__list_4mzlt_64",rs="_searchedMovies__item_4mzlt_70",v={searchbar__bg:es,searchbar__container:ss,searchbar__input:ts,searchbar__close:ns,searchedMovies__container:as,searchedMovies__list:is,searchedMovies__item:rs};function os({handleSearchBar:e}){const[s,a]=h.useState(""),[t,n]=h.useState([]),r=ee(),l=h.useRef(null);h.useEffect(()=>{if(s.trim()!==""){const o=new AbortController,{signal:u}=o,m={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${se}`},signal:u},p=`${te}/search/multi?query=${s}&include_adult=false&language=en-US&page=1`;return(async w=>{try{const g=await fetch(w,m);if(!g.ok)throw new Error("Network response was not ok!");const I=await g.json();if(I.Response==="False")throw new Error("Movie Not found!");n(I.results)}catch(g){g.name==="AbortError"?console.log("Fetch aborted"):console.error(g.message)}})(p),()=>{o.abort()}}},[s]),h.useEffect(()=>{l.current.focus()},[]);function _(){s.trim()!==""?(e(!1),r(`/search?query=${s.trim()}`)):a("")}return i.jsxs("div",{className:v.searchbar__bg,children:[i.jsxs(b.div,{className:v.searchbar__container,initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},children:[i.jsx("input",{type:"text",value:s,onChange:o=>a(o.target.value),className:v.searchbar__input,placeholder:"Search...",ref:l}),i.jsx(T,{type:"primary",style:{position:"absolute",top:0,right:0,height:"100%",padding:".5rem 1rem"},onClick:_,children:"Search"}),i.jsx("div",{className:v.searchbar__close,onClick:()=>e(!1),children:i.jsx("i",{className:"ri-close-line"})})]}),t.length>0&&i.jsx("div",{className:v.searchedMovies__container,children:i.jsx("ul",{className:v.searchedMovies__list,children:t.map((o,u)=>i.jsx("li",{className:v.searchedMovies__item,onClick:()=>a(o.name||o.title),children:o.name||o.title},u))})})]})}function cs(){const e=ne(),[s,a]=h.useState(!1),[t,n]=h.useState();h.useEffect(()=>{const l=requestAnimationFrame(()=>{n(!0)});return()=>cancelAnimationFrame(l)},[]);function r(l){a(l)}return i.jsxs(i.Fragment,{children:[i.jsx(Ge,{handleSearchBar:r}),e.state==="loading"||!t?i.jsx(ae,{}):i.jsxs(i.Fragment,{children:[i.jsx(F,{mode:"wait",children:s&&i.jsx(os,{handleSearchBar:r})}),i.jsx(ie,{}),i.jsx(Ze,{})]})]})}export{cs as default};
